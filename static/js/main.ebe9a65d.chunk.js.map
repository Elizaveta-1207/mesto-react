{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/header-logo.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","_id","link","name","likes","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","card","isOwn","isLiked","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","aria-label","type","onClick","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","props","key","PopupWithForm","title","buttonTitle","children","isOpen","onClose","onSubmit","action","noValidate","ImagePopup","id","api","options","this","_token","baseUrl","_authorization","headers","authorization","_contentType","fetch","method","then","res","ok","json","Promise","reject","status","body","JSON","stringify","cardId","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","required","placeholder","maxLength","minLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","promises","getUserInfo","getInitialCards","all","results","item","setupCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","editProfile","result","addNewCard","editAvatar","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message","module","exports"],"mappings":"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","file":"static/js/main.ebe9a65d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport logo from \"../images/header-logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"логотип\" className=\"logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020. Тимонина Елизавета</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ _id, link, name, likes, owner, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const card = {\r\n    _id: _id,\r\n    link: link,\r\n    name: name,\r\n    owner: owner,\r\n    likes: likes,\r\n  };\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = `element__delete ${isOwn ? \"\" : \"element__delete_hidden\"}`;\r\n  const cardLikeButtonClassName = `element__like ${isLiked ? \"element__like_active\" : \"\"}`;\r\n\r\n  function handleClick() {\r\n    onCardClick({\r\n      link: link,\r\n      name: name,\r\n    });\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button aria-label=\"Удалить\" type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      <img src={link} alt={name} className=\"element__img\" onClick={handleClick} />\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{name}</h2>\r\n        <div className=\"element__likes\">\r\n          <button aria-label=\"Лайк\" type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <p className=\"element__like-amount\">{likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button aria-label=\"Редактировать профиль\" type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button aria-label=\"Добавить пост\" type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((props) => (\r\n            <Card\r\n              key={props._id}\r\n              _id={props._id}\r\n              owner={props.owner}\r\n              link={props.link}\r\n              name={props.name}\r\n              likes={props.likes}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({ name, title, buttonTitle, children, isOpen, onClose, onSubmit }) {\r\n  return (\r\n    <div className={`popup popup-${name} ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button aria-label=\"Закрыть\" type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form action=\"#\" name=\"popup-form\" className={`popup__form popup-${name}__form`} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {buttonTitle}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ link, title, isOpen, onClose }) {\r\n  return (\r\n    <div className={`popup popup-img ${isOpen && \"popup_opened\"}`} id=\"popup-image\">\r\n      <div className=\"popup__img-container\">\r\n        <button aria-label=\"Закрыть картинку\" type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\r\n        <img src={link} alt={title} className=\"popup__full-img\" />\r\n        <h2 className=\"popup__title-img\">{title}</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(options) {\r\n    this._token = options.baseUrl;\r\n    this._authorization = options.headers.authorization;\r\n    this._contentType = options.headers[\"Content-type\"];\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._token}/cards`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return fetch(`${this._token}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._token}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    return fetch(`${this._token}/cards/likes/${cardId}`, {\r\n      method: isLiked ? \"PUT\" : \"DELETE\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._token}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n      },\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  editProfile({ name, about }) {\r\n    return fetch(`${this._token}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  editAvatar({ avatar }) {\r\n    return fetch(`${this._token}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._authorization,\r\n        \"Content-Type\": this._contentType,\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: `${avatar}`,\r\n      }),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    });\r\n  }\r\n}\r\n\r\n// экземпляра класса Api\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-15\",\r\n  headers: {\r\n    authorization: \"36046fe7-1e8e-4a22-8e60-7f2eb2d5b2d8\",\r\n    \"Content-type\": \"application/json\",\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm name={\"edit\"} title={\"Редактировать профиль\"} buttonTitle={\"Сохранить\"} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input\r\n        required\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Введите имя\"\r\n        maxLength=\"40\"\r\n        minLength=\"2\"\r\n        className=\"popup__input popup__input_name\"\r\n        id=\"name-input\"\r\n        value={name || \"\"}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span id=\"name-input-error\"></span>\r\n      <input\r\n        required\r\n        name=\"description\"\r\n        type=\"text\"\r\n        placeholder=\"Введите описание\"\r\n        maxLength=\"200\"\r\n        minLength=\"2\"\r\n        className=\"popup__input popup__input_description\"\r\n        id=\"description-input\"\r\n        value={description || \"\"}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span id=\"description-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name={\"avatar\"} title={\"Обновить аватар\"} buttonTitle={\"Сохранить\"} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input required name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_link\" id=\"link-input\" ref={avatarRef} />\r\n      <span id=\"link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name={\"add\"} title={\"Новое место\"} buttonTitle={\"Создать\"} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <input\r\n        required\r\n        name=\"name\"\r\n        type=\"text\"\r\n        placeholder=\"Название\"\r\n        maxLength=\"30\"\r\n        minLength=\"1\"\r\n        className=\"popup__input popup__input_title\"\r\n        id=\"title-input\"\r\n        value={name || \"\"}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span id=\"title-input-error\"></span>\r\n      <input required name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_link\" id=\"link-input\" value={link || \"\"} onChange={handleLinkChange} />\r\n      <span id=\"link-input-error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\nimport \"../index.css\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Main from \"./Main\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport { api } from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false });\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      title: card.name,\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ isOpen: false });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .editProfile({ name, about })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .editAvatar({ avatar })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleCardLike(card) {\n    // Проверяем, есть ли лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  function setupCards(cards) {\n    setCards(\n      cards.map((item) => ({\n        _id: item._id,\n        link: item.link,\n        name: item.name,\n        owner: item.owner,\n        likes: item.likes,\n      }))\n    );\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    api\n      .addNewCard({ name, link })\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }\n\n  React.useEffect(() => {\n    const promises = [api.getUserInfo(), api.getInitialCards()];\n\n    Promise.all(promises)\n      .then((results) => {\n        setCurrentUser(results[0]);\n        setupCards(results[1]);\n      })\n      .catch((err) => console.log(`Error ${err}`));\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n\n        <PopupWithForm name={\"confirm\"} title={\"Вы уверены?\"} buttonTitle={\"Да\"} onClose={closeAllPopups}></PopupWithForm>\n\n        <ImagePopup link={selectedCard.link} title={selectedCard.title} isOpen={selectedCard.isOpen} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/header-logo.855a8c98.svg\";"],"sourceRoot":""}